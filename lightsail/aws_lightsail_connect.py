import boto3 
 
client = boto3.client('lightsail', region_name='us-west-2') 
 
response = client.get_instance( 
    instanceName='Django-1' 
) 

def connect_to_instance():
    return client.get_instance_access_details(
        instanceName='Django-1', protocol='ssh'
    )

connect_to_instance()



# '''{'accessDetails': {'certKey': 'ssh-rsa-cert-v01@openssh.com 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', 'ipAddress': '54.245.20.33', 'privateKey': '-----BEGIN RSA PRIVATE KEY-----\nMIIEogIBAAKCAQEAwGzMbQhI3hAgV4uxesFtyfK2MSzG+zlXhJvULPsf0Lq31Mj7\nxJ2POanaP3LZ1RNTQIQLmAaZVJfnsLEKsQtm7/VezbYbdwWf/kHKwWDdTNdNFKz+\nRzZzQriOO3vF3PDBS8QNK9vChgsngIlcVT0v9BDktmRrHV5I4Lz2PNz95CqYmD1N\n6FfFIuqiNHOm2Ix/AJdAaYeCn6EIyHRXTdgiySWdGJXoTLXqKKezsqhg3pXM2bCh\nGBtSMtuqYPGGrv1hAqFXIctWt3uDD4MXigby3szoHE5mNvCco1k2v4EiCIKuYqrP\nYgmGQkf0/bLXFVtRLkt6Bph1BpBDVzMOVvejyQIDAQABAoIBADIg5cyNuPXou5Qy\n9yRkmaZfjWkYIio2UP9h3Q9uyGYHDnbnePdKmJJMFmgrEmZ451pKS/7p0S4BeMFG\nDeP7dXCTuoPaqiMCmyCQoTJpep1XBWSagI+qtrIuBBeo8e3R5nlHdKr1UCK9aygI\nIL6v9vsdH4gIdwMqmc+6Smemppm2rk9nd5lwqjJ3kS70U3FQWV0zBV80mVTRbVKb\ndsrcQrOyHvLlYKXdEwDthxqs24yRKW4G6dZzB31lOgpICZWaptwWzSlXbWhi6ZGd\nTAaYE6yVZttk/exRJovJ2W8SsxbQke7eBMmi8k8MYk76GyG++zZ7DcO9fVZnBWxa\n3iwXI9UCgYEA/y53R9Nba/+O/tJ9W19FFHeG9RZrOnPU8Z66PBxSYFlNw6gieGKn\npOQnuD4ELzmyNQiGC7mBmDNUP+Jceo9ZTbfDDfBLXInPZWWXf45FY04s0zeijKJg\nqoMjlbeCRBOsqGbYptELpr3V01qiXjv78UJuhUs4IUCIo+NIN6APOi8CgYEAwQrN\nV0sRE3EnEq200rqc46b4xj7iJ8q2PdFxZGgKneVm9isYxcx9qo4R1Sgj7ZukTTOw\ni7kBAlcGl56+fnYnv+HeCtB6Ihis4ZpnLudv5acw2KYOid2CVTmW0dMEqtzVxbIr\nQrTzzDRhUTlRPxPovUUPnlZLg4hOq0ryu57DG4cCgYAx6dHVD8d7GXLL7zor7Dej\n6DlSqT7yIQQO+uAsr9GBHRaz5ahQaeOmwiXuyNqiriNocjFeC7wInEmncUxrgKyU\nIhSaHl1vTVlu2O9IOPjjkr/71I8L+Rr1X09PkqR9UmfcTLml74/a3pj7jWfjDNKb\n/0WE9xCUmH3hqKxQjRNNawKBgBl53HmdvYYsU7TCWe/JkvT0TzaSi/Qma4CjCGzw\n0h3ebYUlUOKhxx/gGfhgkMVF2hwaKz11T+3IIGWYHJnB7CMFovEYbFXdncs0PlPR\nVVIgi3C8EYUeR5oJvJ66U45dEJVDmzP1f4s+im1WvCMv9HIuEA6cYuDb903h2UDr\nheI3AoGAbnMO26BDz8wz10bvniB3ATOoS5egHrYvRJlpiYjw2eFarMGf+ANI9/7R\nIKkiX5B8cXVZZSGZNgxr3jJ23NlOKKJlvd2IvP4ATzLF9dAH6qpTcP5PNlpWOiyg\nSFJ+1cE9olx1OfkC2vifhEM9lU9OPUiSgRNt0jfjVCg7US7lm2k=\n-----END RSA PRIVATE KEY-----\n', 'protocol': 'ssh', 'instanceName': 'Django-1', 'username': 'bitnami', 'hostKeys': [{'algorithm': 'ssh-rsa', 'publicKey': 'AAAAB3NzaC1yc2EAAAADAQABAAABgQDKPkQfySyln4rmFMSuMlFPJ/SpuEZnStC/7kkt2wbNWpgP/OM306dz4Z5sGfQ7kVqABjQ/lpk/JIibvyy9JkTZeOjT5I/nDlZlC/RCInYgQiOseXGhV0VN9QuCYmMSghUxnYcjMXYr2+2De1wksowqhES0GAgk0ce6Kj/K5OopEgxRR0GCFSe8Ju4dmpXI9xrVJt0vfryDkpF1q6oKe+E/YxG//DDxTEj0L2iODzmsSeSJYxHk/AIXyh0BQDBNi5rzw3TvED6zbhEcG3pXntDuBgptM1RnJpC15latqR1bc5IqJ8kBUS0Rmr8sroWWOt7HeNX4qu7T36stDC0ovZtXTHkbcBA1iXRizN/fP0sIfASLwhpoQSrVVZSfpIylI4nNux9KQxTpJ1w9DuYhflHanhzjQlhApVJU6AnbPiUv7SGhjeDJnx4ad68hvipYfoUh05WEkHRh2dOQlIFbPe/fhTOvmYvMceSCj/cdNs/vc+BMe0Uay+AS1kTPGwSaRq0=', 'witnessedAt': datetime.datetime(2023, 1, 8, 23, 9, 20, 528000, tzinfo=tzlocal()), 'fingerprintSHA1': 'SHA1:Hawl3YbfQsSANA3lhL6Oey6R6q4', 'fingerprintSHA256': 'SHA256:HKw7bjoCrNGNEx0S0Yo+VdBeALk/SH53fWJIIQzZF3A'}, {'algorithm': 'ssh-ed25519', 'publicKey': 'AAAAC3NzaC1lZDI1NTE5AAAAIGDFCQ9mo1WkOweSu4zMWx+kGFWEDHSJXwCe4uGOrPD3', 'witnessedAt': datetime.datetime(2023, 1, 8, 23, 9, 20, 519000, tzinfo=tzlocal()), 'fingerprintSHA1': 'SHA1:DvGbL5lK2/7Afv261chGv2ZtXsA', 'fingerprintSHA256': 'SHA256:Ok6krwcY/escBitgIVVbIDq6lGZX/yeYS1BRo0qC0hw'}, {'algorithm': 'ecdsa-sha2-nistp256', 'publicKey': 'AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBBPdCYub9L0Skoyu8UXvn92NGP88Ffeb3J8+UwWUTKP5qVwtwgxUZemjsKgkd1PPtvep6wE4Fd65sV8sC+5PALo=', 'witnessedAt': datetime.datetime(2023, 1, 8, 23, 9, 20, 519000, tzinfo=tzlocal()), 'fingerprintSHA1': 'SHA1:oqMG5mdNoh9t7bsrEmQ17OKnSTY', 'fingerprintSHA256': 'SHA256:rmYMDRIxZxK8lTsUIZn2va2ENk9rYh6zLP544Kre3wI'}]}, 'ResponseMetadata': {'RequestId': '520d1a47-3067-4355-8309-e0d044af73e4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'server': 'Server', 'date': 'Mon, 09 Jan 2023 06:32:18 GMT', 'content-type': 'application/x-amz-json-1.1', 'content-length': '5423', 'connection': 'keep-alive', 'x-amzn-requestid': '520d1a47-3067-4355-8309-e0d044af73e4'}, 'RetryAttempts': 0}}'''
# login to the instance
# ssh -i LightsailDefaultKey-us-west-2.pem
# {
#     "environmentId": "6457d6f6d8bd41ad8695919a80471a4e"
# }
# E CONERT A UNCTIOÂ¿